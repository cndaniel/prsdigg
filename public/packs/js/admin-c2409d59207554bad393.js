(self.webpackChunkprsdigg=self.webpackChunkprsdigg||[]).push([[2328],{42423:function(e,t,n){"use strict";var r=n(98196),a=n.n(r),l=(n(43586),n(97183)),i=n(36689),c=n(6799),o=n(67294),u=n(73727),s=(n(10995),n(99210)),m=n(63392),d=n(3682),f=n(89366),y=n(99008),p=n(2877),E=n(36928),v=n(63276),h=n(56205),b=n(47218),g=n(10789),I=n(47438),Z=n(75491),A=n(92570),x=n(51984),k=n(57240),w=n(55035);function C(){return o.createElement(s.Z,{theme:"dark",mode:"inline"},o.createElement("div",{style:{height:"2rem",margin:"1rem",lineHeight:"2rem",textAlign:"center"}},"Admin"),o.createElement(s.Z.Item,{key:"dashboard"},o.createElement(u.rU,{to:"/"},o.createElement(m.Z,null),o.createElement("span",null,"Dashboard"))),o.createElement(s.Z.SubMenu,{key:"statistic",icon:o.createElement(d.Z,null),title:"Statistic"},o.createElement(s.Z.Item,{key:"daily_statistic"},o.createElement(u.rU,{to:"/daily_statistic"},o.createElement("span",null,"Daily")))),o.createElement(s.Z.Item,{key:"users"},o.createElement(u.rU,{to:"/users"},o.createElement(f.Z,null),o.createElement("span",null,"Users"))),o.createElement(s.Z.SubMenu,{key:"article",icon:o.createElement(y.Z,null),title:"Article"},o.createElement(s.Z.Item,{key:"articles"},o.createElement(u.rU,{to:"/articles"},o.createElement("span",null,"Articles"))),o.createElement(s.Z.Item,{key:"article_snapshots"},o.createElement(u.rU,{to:"/article_snapshots"},o.createElement("span",null,"Article Snapshots")))),o.createElement(s.Z.SubMenu,{key:"pressone",icon:o.createElement(p.Z,null),title:"PRESSOne"},o.createElement(s.Z.Item,{key:"prs_accounts"},o.createElement(u.rU,{to:"/prs_accounts"},o.createElement("span",null,"Accounts"))),o.createElement(s.Z.Item,{key:"prs_transactions"},o.createElement(u.rU,{to:"/prs_transactions"},o.createElement("span",null,"Transactions")))),o.createElement(s.Z.Item,{key:"comments"},o.createElement(u.rU,{to:"/comments"},o.createElement(E.Z,null),o.createElement("span",null,"Comments"))),o.createElement(s.Z.Item,{key:"payments"},o.createElement(u.rU,{to:"/payments"},o.createElement(v.Z,null),o.createElement("span",null,"Payments"))),o.createElement(s.Z.Item,{key:"orders"},o.createElement(u.rU,{to:"/orders"},o.createElement(h.Z,null),o.createElement("span",null,"Orders"))),o.createElement(s.Z.Item,{key:"swap_orders"},o.createElement(u.rU,{to:"/swap_orders"},o.createElement(b.Z,null),o.createElement("span",null,"Swap Orders"))),o.createElement(s.Z.Item,{key:"transfers"},o.createElement(u.rU,{to:"/transfers"},o.createElement(g.Z,null),o.createElement("span",null,"Transfers"))),o.createElement(s.Z.Item,{key:"announcements"},o.createElement(u.rU,{to:"/announcements"},o.createElement(I.Z,null),o.createElement("span",null,"Announcements"))),o.createElement(s.Z.Item,{key:"mixin_messages"},o.createElement(u.rU,{to:"/mixin_messages"},o.createElement(Z.Z,null),o.createElement("span",null,"Messages"))),o.createElement(s.Z.Item,{key:"mixin_network_snapshots"},o.createElement(u.rU,{to:"/mixin_network_snapshots"},o.createElement(A.Z,null),o.createElement("span",null,"Snapshots"))),o.createElement(s.Z.Item,{key:"bonuses"},o.createElement(u.rU,{to:"/bonuses"},o.createElement(x.Z,null),o.createElement("span",null,"Bonuses"))),o.createElement(s.Z.Item,{key:"balance"},o.createElement(u.rU,{to:"/balance"},o.createElement(k.Z,null),o.createElement("span",null,"Balance"))),o.createElement(s.Z.Item,{key:"logout"},o.createElement("a",{href:"/admin/logout"},o.createElement(w.Z,null),o.createElement("span",null,"Logout"))))}n(67167);var j=n(71577),S=(n(38319),n(86585)),O=(n(39200),n(55019)),U=(n(58481),n(48086)),P=n(78338),T=n(39387);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=l.Z.Content;function _(){var e=N((0,T.tIp)({update:function(e,t){var n=t.data.adminLogin.error;n?U.ZP.error(n):location.replace("/admin")}}),1)[0];return o.createElement(l.Z,{className:"layout"},o.createElement(D,{style:{display:"flex",minHeight:"100vh"}},o.createElement(S.Z,{onFinish:function(t){e({variables:{input:t}})},style:{width:300,margin:"auto"}},o.createElement(S.Z.Item,{name:"name",rules:[{required:!0,message:"Username"}]},o.createElement(O.Z,{prefix:o.createElement(f.Z,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"})),o.createElement(S.Z.Item,{name:"password",rules:[{required:!0,message:"Password"}]},o.createElement(O.Z,{prefix:o.createElement(P.Z,{style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"})),o.createElement(S.Z.Item,null,o.createElement(j.Z,{loading:!1,type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")))))}n(57973);var F=n(99683),z=n(5977),B=(n(13007),n(38616)),R=(n(945),n(3785)),W=(n(54602),n(47933)),L=(n(13816),n(37744)),q=(n(24228),n(27049)),K=(n(28610),n(75443)),$=(n(96498),n(11382));function Y(){return o.createElement("div",{style:{width:"100%",padding:"2rem",textAlign:"center"}},o.createElement($.Z,null))}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(){var e=(0,T.THH)(),t=e.data,n=e.loading,r=e.fetchMore,a=e.refetch,l=H((0,o.useState)(""),2),i=l[0],c=l[1],u=H((0,o.useState)("PLAIN_TEXT"),2),s=u[0],m=u[1],d=H((0,o.useState)(null),2),f=d[0],y=d[1],p=H((0,o.useState)(!1),2),E=p[0],v=p[1],h=H((0,T.EOW)({update:function(e,t){var n=t.data.adminCreateAnnouncement.error;n?U.ZP.error(n):(v(!1),U.ZP.success("Created!"),a())}}),1)[0],b=H((0,T.DkB)({update:function(e,t){var n=t.data.adminUpdateAnnouncement.error;n?U.ZP.error(n):(v(!1),U.ZP.success("updated!"),a())}}),1)[0],g=H((0,T.t4w)({update:function(e,t){var n=t.data.adminDeleteAnnouncement.error;n?U.ZP.error(n):(U.ZP.success("deleted!"),a())}}),1)[0],I=H((0,T.Tad)({update:function(e,t){var n=t.data.adminDeliverAnnouncement.error;n?U.ZP.error(n):(U.ZP.success("delivered!"),a())}}),1)[0],Z=H((0,T.K25)({update:function(e,t){var n=t.data.adminPreviewAnnouncement.error;n?U.ZP.error(n):(U.ZP.success("Check it in admin group!"),a())}}),1)[0];if(n)return o.createElement(Y,null);var A=t.adminAnnouncementConnection,x=A.nodes,k=A.pageInfo,w=k.hasNextPage,C=k.endCursor,S=[{dataIndex:"id",key:"id",title:"ID"},{dataIndex:"messageType",key:"messageType",title:"messageType"},{dataIndex:"content",key:"content",render:function(e){return o.createElement("div",null,e)},title:"content"},{dataIndex:"state",key:"state",title:"state"},{dataIndex:"deliveredAt",key:"deliveredAt",render:function(e){return e||"-"},title:"deliveredAt"},{dataIndex:"actions",key:"actions",render:function(e,t){return o.createElement("span",null,o.createElement(K.Z,{title:"Are you sure to deliver message to all users?",onConfirm:function(){return I({variables:{input:{id:t.id}}})}},o.createElement("a",null,"Deliver")),o.createElement(q.Z,{type:"vertical"}),o.createElement(K.Z,{title:"Are you sure to deliver message to admin group for preview?",onConfirm:function(){return Z({variables:{input:{id:t.id}}})}},o.createElement("a",null,"Preview")),o.createElement(q.Z,{type:"vertical"}),o.createElement(K.Z,{title:"Are you sure to delete?",onConfirm:function(){return g({variables:{input:{id:t.id}}})}},o.createElement("a",null,"Delete")),o.createElement(q.Z,{type:"vertical"}),o.createElement("a",{onClick:function(){y(t),c(t.content),m(t.messageType),v(!0)}},"Edit"))},title:"Actions"}];return o.createElement("div",null,o.createElement(L.Z,{title:"Announcements"}),o.createElement("div",{style:{marginBottom:"1rem"}},o.createElement(j.Z,{type:"primary",onClick:function(){c(""),m("PLAIN_TEXT"),y(null),v(!0)}},"New"),o.createElement(R.Z,{title:f?"Edit":"New",closable:!1,visible:E,onCancel:function(){return v(!1)},onOk:function(){f?b({variables:{input:{id:f.id,content:i,messageType:s}}}):h({variables:{input:{content:i,messageType:s}}})}},o.createElement("div",null,o.createElement(O.Z.TextArea,{value:i,onChange:function(e){return c(e.currentTarget.value)},autoSize:{minRows:3,maxRows:10}})),o.createElement("div",null,o.createElement(W.ZP.Group,{value:s,onChange:function(e){return m(e.target.value)}},o.createElement(W.ZP,{value:"PLAIN_TEXT"},"Text"),o.createElement(W.ZP,{value:"PLAIN_POST"},"Post"))))),o.createElement(B.Z,{scroll:{x:!0},columns:S,dataSource:x,rowKey:"id",pagination:!1}),o.createElement("div",{style:{margin:"1rem",textAlign:"center"}},o.createElement(j.Z,{type:"link",loading:n,disabled:!w,onClick:function(){r({variables:{after:C}})}},w?"Load More":"No More")))}n(34892);var G=n(14277),J=(n(19793),n(7495)),Q=(n(51872),n(19650)),ee=(n(75257),n(51890)),te=(n(39412),n(4914)),ne=(n(61768),n(8834)),re=(n(25664),n(55241)),ae=n(58580);function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e){var t=e.articleUuid,n=le((0,o.useState)("all"),2),r=n[0],a=n[1],l=le((0,o.useState)(""),2),i=l[0],c=l[1],s=(0,ae.Z)(i,{wait:500}),m=(0,T.dj8)({variables:{articleUuid:t,state:r,query:s}}),d=m.loading,f=m.data,y=m.fetchMore,p=m.refetch,E=le((0,T.I$h)(),2),v=E[0],h=E[1].loading;if(d)return o.createElement(Y,null);var b=f.adminArticleSnapshotConnection,g=b.nodes,I=b.pageInfo,Z=I.hasNextPage,A=I.endCursor,x=[{dataIndex:"id",key:"id",title:"ID"},{dataIndex:"article",key:"article",render:function(e,t){return o.createElement("span",null,t.article.author.name,":"," ",o.createElement(u.rU,{to:"/articles/"+t.articleUuid},t.article.title))},title:"Article"},{dataIndex:"state",key:"state",title:"State"},{dataIndex:"fileHash",key:"fileHash",render:function(e){return e?o.createElement(re.Z,{content:e,className:"w-14 line-clamp-1"},e):"-"},title:"File Hash"},{dataIndex:"txId",key:"txId",render:function(e){return e?o.createElement(re.Z,{content:e,className:"w-14 line-clamp-1"},e):"-"},title:"Tx ID"},{dataIndex:"signature",key:"signature",render:function(e,t){return null!=t&&t.signatureUrl?o.createElement("a",{href:t.signatureUrl,target:"_blank"},"Link"):"-"},title:"signature"},{dataIndex:"requestedAt",key:"requestedAt",render:function(e){return e||"-"},title:"requestedAt"},{dataIndex:"signedAt",key:"signedAt",render:function(e){return e||"-"},title:"signedAt"},{dataIndex:"createdAt",key:"createdAt",title:"CreatedAt"},{dataIndex:"actions",key:"actions",render:function(e,t){return o.createElement(K.Z,{title:"Are you sure to sign this snapshot?",disabled:"drafted"!==t.state||h,onConfirm:function(){return v({variables:{input:{id:t.id}}})}},o.createElement("span",{className:"drafted"===t.state||h?"cursor-pointer":"cursor-not-allowed text-gray-500"},"Sign"))},title:"Actions"}];return o.createElement(o.Fragment,null,o.createElement("div",{className:"flex justify-between mb-4"},o.createElement("div",{className:"flex space-x-4"},o.createElement(ne.Z,{className:"w-48",value:r,onChange:function(e){return a(e)}},o.createElement(ne.Z.Option,{value:"all"},"All"),o.createElement(ne.Z.Option,{value:"drafted"},"Drafted"),o.createElement(ne.Z.Option,{value:"signing"},"Signing"),o.createElement(ne.Z.Option,{value:"signed"},"Signed")),o.createElement(O.Z,{className:"w-72",value:i,placeholder:"title/content/author/hash/txId",onChange:function(e){return c(e.currentTarget.value)}})),o.createElement(j.Z,{type:"primary",onClick:function(){return p()}},"Refresh")),o.createElement(B.Z,{scroll:{x:!0},columns:x,dataSource:g,size:"small",rowKey:"id",pagination:!1}),o.createElement("div",{className:"mb-4 text-center"},o.createElement(j.Z,{type:"link",loading:d,disabled:!Z,onClick:function(){y({variables:{after:A}})}},Z?"Load More":"No More")))}var oe=n(2307);function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e){var t=e.commentableId,n=e.commentableType,r=e.authorMixinUuid,a=(0,T.Ph$)({variables:{commentableId:t,commentableType:n,authorMixinUuid:r}}),l=a.data,i=a.loading,c=a.fetchMore,u=a.refetch,s=ue((0,T.dYE)({update:function(e,t){var n=t.data.error;n?U.ZP.error(n):(U.ZP.success("Successfully deleted!"),u())}}),2),m=s[0],d=s[1].loading,f=ue((0,T.nF8)({update:function(e,t){var n=t.data.error;n?U.ZP.error(n):(U.ZP.success("Successfully recovered!"),u())}}),2),y=f[0],p=f[1].loading;if(i)return o.createElement(Y,null);var E=l.adminCommentConnection,v=E.nodes,h=E.pageInfo,b=h.hasNextPage,g=h.endCursor,I=[{dataIndex:"id",key:"id",title:"ID"},{dataIndex:"author",key:"author",render:function(e,t){return o.createElement(Q.Z,null,o.createElement(ee.C,{src:t.author.avatar}),t.author.name)},title:"Author"},{dataIndex:"content",key:"content",render:function(e){return o.createElement(re.Z,{content:e},o.createElement("div",{style:{maxWidth:"100%"}},e?e.slice(0,140):"-"))},title:"content"},{dataIndex:"article",key:"article",render:function(e,t){return o.createElement("a",{href:"/articles/"+t.commentable.uuid,target:"_blank"},t.commentable.title)},title:"article"},{dataIndex:"createdAt",key:"createdAt",title:"CreatedAt"},{dataIndex:"deletedAt",key:"deletedAt",render:function(e){return o.createElement("span",null,e||"-")},title:"deletedAt"},{dataIndex:"actions",key:"actions",render:function(e,t){return o.createElement("span",null,t.deletedAt?o.createElement(K.Z,{title:"Are you sure to recover this comment?",onConfirm:function(){return y({variables:{input:{id:t.id}}})}},o.createElement(j.Z,{type:"link",disabled:p},"Recover")):o.createElement(K.Z,{title:"Are you sure to delete this comment?",onConfirm:function(){return m({variables:{input:{id:t.id}}})}},o.createElement(j.Z,{type:"link",disabled:d},"Delete")))},title:"Actions"}];return o.createElement(o.Fragment,null,o.createElement("div",{className:"flex justify-end mb-4"},o.createElement(j.Z,{type:"primary",onClick:function(){return u()}},"Refresh")),o.createElement(oe.Z,{scroll:{x:!0},columns:I,dataSource:v,rowKey:"id",pagination:!1,size:"small"}),o.createElement("div",{style:{margin:"1rem",textAlign:"center"}},o.createElement(j.Z,{type:"link",loading:i,disabled:!b,onClick:function(){c({variables:{after:g}})}},b?"Load More":"No More")))}var de=o.createContext(null);var fe=o.createContext(null);function ye(){return(0,o.useContext)(fe)}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e){var t=ye().appId,n=e.userId,r=pe((0,o.useState)("input"),2),a=r[0],l=r[1],i=(0,T.oSn)({variables:{filter:a,userId:n}}),u=i.data,s=i.loading,m=i.fetchMore,d=i.refetch;if(s)return o.createElement(Y,null);var f=u.adminMixinNetworkSnapshotConnection,y=f.nodes,p=f.pageInfo,E=p.hasNextPage,v=p.endCursor,h=[{dataIndex:"traceId",key:"traceId",title:"traceId"},{dataIndex:"wallet",key:"wallet",render:function(e,n){return n.article?o.createElement("a",{href:"https://prsdigg.com/articles/"+n.article.uuid,target:"_blank"},n.article.title):n.userId===t?"PRSDigg":n.userId===c.TW?"4swap":n.userId},title:"Wallet"},{dataIndex:"opponent",key:"opponent",render:function(e,n){return n.opponent?o.createElement(Q.Z,null,o.createElement(ee.C,{src:n.opponent.avatar}),n.opponent.name,n.opponent.mixinId):n.opponentId===t?"PRSDigg":n.opponentId===c.TW?"4swap":n.opponentId||"MTG"},title:"Opponent"},{dataIndex:"amount",key:"amount",render:function(e,t){var n;return o.createElement(Q.Z,null,o.createElement(ee.C,{src:null==(n=t.currency)?void 0:n.iconUrl}),o.createElement("span",null,e))},title:"amount"},{dataIndex:"processedAt",key:"processedAt",title:"processedAt"},{dataIndex:"createdAt",key:"createdAt",title:"createdAt"}];return o.createElement(o.Fragment,null,o.createElement("div",{className:"flex justify-between mb-4"},o.createElement("div",{className:"flex space-x-2"},o.createElement(ne.Z,{style:{width:200},value:a,onChange:function(e){return l(e)}},o.createElement(ne.Z.Option,{value:"input"},"Input"),o.createElement(ne.Z.Option,{value:"output"},"Output"),o.createElement(ne.Z.Option,{value:"prsdigg"},"From PRSDigg"),o.createElement(ne.Z.Option,{value:"4swap"},"4swap"),o.createElement(ne.Z.Option,{value:"all"},"All"))),o.createElement(j.Z,{type:"primary",onClick:function(){return d()}},"Refresh")),o.createElement(B.Z,{scroll:{x:!0},columns:h,dataSource:y,rowKey:"traceId",pagination:!1,size:"small"}),o.createElement("div",{style:{margin:"1rem",textAlign:"center"}},o.createElement(j.Z,{type:"link",loading:s,disabled:!E,onClick:function(){m({variables:{after:v}})}},E?"Load More":"No More")))}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e){var t=he((0,o.useState)("all"),2),n=t[0],r=t[1],a=e.itemId,l=e.itemType,i=(0,T.eSn)({variables:{state:n,itemId:a,itemType:l}}),c=i.loading,u=i.data,s=i.fetchMore,m=i.refetch,d=(0,z.k6)();if(c)return o.createElement(Y,null);var f=u.adminOrderConnection,y=f.nodes,p=f.pageInfo,E=p.hasNextPage,v=p.endCursor,h=[{dataIndex:"traceId",key:"traceId",title:"traceId"},{dataIndex:"item",key:"item",render:function(e,t){return"Article"===t.itemType&&o.createElement("a",{className:"w-full cursor-pointer line-clamp-1",onClick:function(){return d.push("/articles/"+t.item.uuid)}},t.item.title)},title:"Item"},{dataIndex:"orderType",key:"orderType",title:"orderType"},{dataIndex:"buyer",key:"buyer",render:function(e,t){return o.createElement(Q.Z,null,o.createElement(ee.C,{src:t.buyer.avatar}),t.buyer.name)},title:"Buyer"},{dataIndex:"total",key:"total",render:function(e,t){return o.createElement("span",null,t.total," ",t.currency.symbol)},title:"Total"},{dataIndex:"state",key:"state",title:"state"},{dataIndex:"createdAt",key:"createdAt",title:"CreatedAt"}];return o.createElement(o.Fragment,null,o.createElement("div",{className:"flex justify-between mb-4"},o.createElement("div",{className:"flex space-x-4"},o.createElement(ne.Z,{className:"w-48",value:n,onChange:function(e){return r(e)}},o.createElement(ne.Z.Option,{value:"all"},"All"),o.createElement(ne.Z.Option,{value:"paid"},"Paid"),o.createElement(ne.Z.Option,{value:"completed"},"Completed"))),o.createElement(j.Z,{type:"primary",onClick:function(){return m()}},"Refresh")),o.createElement(B.Z,{scroll:{x:!0},columns:h,dataSource:y,rowKey:"traceId",pagination:!1,size:"small"}),o.createElement("div",{style:{margin:"1rem",textAlign:"center"}},o.createElement(j.Z,{type:"link",loading:c,disabled:!E,onClick:function(){s({variables:{after:v}})}},E?"Load More":"No More")))}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e){var t=ye().appId,n=e.itemId,r=e.itemType,a=e.sourceId,l=e.sourceType,i=Ie((0,o.useState)("all"),2),c=i[0],u=i[1],s=(0,T.VK)({variables:{itemId:n,itemType:r,sourceId:a,sourceType:l,transferType:c}}),m=s.data,d=s.loading,f=s.fetchMore,y=s.refetch;if(d)return o.createElement(Y,null);var p=m.adminTransferConnection,E=p.nodes,v=p.pageInfo,h=v.hasNextPage,b=v.endCursor,g=[{dataIndex:"traceId",key:"traceId",title:"Trace ID"},{dataIndex:"recipient",key:"recipient",render:function(e,n){return n.recipient?o.createElement(Q.Z,null,o.createElement(ee.C,{src:n.recipient.avatar}),o.createElement("span",null,n.recipient.name,"(",n.recipient.mixinId,")")):n.opponentId===t?"PRSDigg":n.opponentId||"MTG"},title:"Recipient"},{dataIndex:"amount",key:"amount",render:function(e,t){var n;return o.createElement(Q.Z,null,o.createElement(ee.C,{src:null==(n=t.currency)?void 0:n.iconUrl}),o.createElement("span",null,e))},title:"Amount"},{dataIndex:"transferType",key:"transferType",title:"transferType"},{dataIndex:"processedAt",key:"processedAt",render:function(e){return o.createElement("span",null,e||"-")},title:"Processed At"},{dataIndex:"createdAt",key:"createdAt",title:"Created At"},{dataIndex:"snapshotId",key:"snapshotId",render:function(e){return o.createElement("span",null,e?o.createElement("a",{href:"https://mixin.one/snapshots/"+e,target:"_blank"},"View"):"processing")},title:"Snapshot"}];return o.createElement(o.Fragment,null,o.createElement("div",{className:"flex justify-between mb-4"},o.createElement("div",{className:"flex space-x-4"},o.createElement(ne.Z,{className:"w-48",value:c,onChange:function(e){return u(e)}},o.createElement(ne.Z.Option,{value:"all"},"All"),o.createElement(ne.Z.Option,{value:"author_revenue"},"Author Revenue"),o.createElement(ne.Z.Option,{value:"reader_revenue"},"Reader Revenue"),o.createElement(ne.Z.Option,{value:"prsdigg_revenue"},"Prsdigg Revenue"),o.createElement(ne.Z.Option,{value:"payment_refund"},"Payment Refund"),o.createElement(ne.Z.Option,{value:"bonus"},"Bonus"),o.createElement(ne.Z.Option,{value:"swap_change"},"Swap Change"),o.createElement(ne.Z.Option,{value:"swap_refund"},"Swap Refund"),o.createElement(ne.Z.Option,{value:"fox_swap"},"Fox Swap"),o.createElement(ne.Z.Option,{value:"withdraw_balance"},"Withdraw Balance"))),o.createElement(j.Z,{type:"primary",onClick:function(){return y()}},"Refresh")),o.createElement(B.Z,{scroll:{x:!0},columns:g,dataSource:E,rowKey:"traceId",pagination:!1,size:"small"}),o.createElement("div",{style:{margin:"1rem",textAlign:"center"}},o.createElement(j.Z,{type:"link",loading:d,disabled:!h,onClick:function(){f({variables:{after:b}})}},h?"Load More":"No More")))}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e){var t=e.userId,n=(0,T.R0m)({fetchPolicy:"network-only",variables:{userId:t}}),r=n.loading,a=n.data,l=n.refetch,i=xe((0,o.useState)(""),2),c=i[0],u=i[1],s=xe((0,o.useState)(),2),m=s[0],d=s[1],f=xe((0,T.vsz)({update:function(e,t){t.data.adminWithdrawBalance?(U.ZP.success("Withdrawing"),l()):U.ZP.error("failed"),d(null)}}),1)[0];if(r)return o.createElement(Y,null);var y=a.adminWalletBalance,p=[{title:"asset ID",dataIndex:"assetId",key:"assetId"},{dataIndex:"iconUrl",key:"iconUrl",render:function(e,t){return o.createElement(ee.C,{src:e},t.symbol[0])},title:"icon"},{title:"Symbol",dataIndex:"symbol",key:"symbol"},{title:"Balance",dataIndex:"balance",key:"balance"},{dataIndex:"priceUsd",key:"priceUsd",render:function(e,t){return parseFloat(t.balance)>0?"$ "+parseFloat(e)*parseFloat(t.balance):0},title:"Value"},{dataIndex:"actions",key:"actions",render:function(e,t){return o.createElement("div",{className:"flex space-x-1"},o.createElement("div",{className:"cursor-pointer",onClick:function(){u(t.balance),d(t)}},"Withdraw"))},title:"Actions"}];return o.createElement(o.Fragment,null,o.createElement(B.Z,{scroll:{x:!0},columns:p,dataSource:y,rowKey:"assetId",loading:r,pagination:{pageSize:50},size:"small"}),o.createElement(R.Z,{title:"Withdraw to OWNER",closable:!1,visible:Boolean(m),onCancel:function(){return d(null)},onOk:function(){return f({variables:{input:{assetId:null==m?void 0:m.assetId,amount:c}}})}},o.createElement("div",{className:"flex"},o.createElement(O.Z,{value:c,onChange:function(e){return u(e.target.value)}}))))}function Ce(){var e=(0,z.UO)().uuid,t=(0,z.k6)(),n=(0,T.kWA)({variables:{uuid:e}}),r=n.loading,a=n.data;if(r)return o.createElement(Y,null);var l=a.adminArticle;return o.createElement("div",null,o.createElement(L.Z,{title:l.title,onBack:function(){return t.goBack()}}),o.createElement(te.Z,{bordered:!0,size:"small"},o.createElement(te.Z.Item,{label:"Title"},l.title),o.createElement(te.Z.Item,{label:"Author"},o.createElement(Q.Z,null,o.createElement(ee.C,{src:l.author.avatar},l.author.name[0]),l.author.name)),o.createElement(te.Z.Item,{label:"State"},l.state),o.createElement(te.Z.Item,{label:"Price"},l.price),o.createElement(te.Z.Item,{label:"OrdersCount"},l.ordersCount),o.createElement(te.Z.Item,{label:"Revenue"},"$",l.revenueUsd),o.createElement(te.Z.Item,{label:"Comments"},l.commentsCount),o.createElement(te.Z.Item,{label:"createdAt"},l.createdAt)),o.createElement(J.Z,{defaultActiveKey:"orders"},o.createElement(J.Z.TabPane,{tab:"Orders",key:"orders"},o.createElement(ge,{itemId:l.id,itemType:"Article"})),o.createElement(J.Z.TabPane,{tab:"Comments",key:"comments"},o.createElement(me,{commentableId:l.id,commentableType:"Article"})),o.createElement(J.Z.TabPane,{tab:"Snapshots",key:"snapshot"},o.createElement(ce,{articleUuid:l.uuid})),o.createElement(J.Z.TabPane,{tab:"Transfers",key:"transfers"},o.createElement(Ae,{itemId:l.id,itemType:"Article"})),o.createElement(J.Z.TabPane,{tab:"Wallet Balance",key:"wallet_balance"},l.walletId?o.createElement(we,{userId:l.walletId}):o.createElement(G.Z,null)),o.createElement(J.Z.TabPane,{tab:"Wallet Snapshots",key:"wallet_snapshots"},l.walletId?o.createElement(ve,{userId:l.walletId}):o.createElement(G.Z,null))))}function je(){return o.createElement(o.Fragment,null,o.createElement(L.Z,{title:"Article Snapshots"}),o.createElement(ce,null))}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ue(e){var t=e.authorMixinUuid,n=Se((0,o.useState)(""),2),r=n[0],a=n[1],l=Se((0,o.useState)("published"),2),i=l[0],c=l[1],s=(0,ae.Z)(r,{wait:500}),m=(0,T.IpZ)({variables:{query:s,state:i,authorMixinUuid:t}}),d=m.data,f=m.loading,y=m.fetchMore,p=m.refetch,E=Se((0,T.IRC)(),2),v=E[0],h=E[1].loading,b=Se((0,T.YKD)(),2),g=b[0],I=b[1].loading;if(f)return o.createElement(Y,null);var Z=d.adminArticleConnection,A=Z.nodes,x=Z.pageInfo,k=x.hasNextPage,w=x.endCursor,C=[{dataIndex:"uuid",key:"uuid",title:"UUID"},{dataIndex:"author",key:"author",render:function(e,t){return o.createElement(Q.Z,null,o.createElement(ee.C,{src:t.author.avatar}),t.author.name)},title:"Author"},{dataIndex:"title",key:"title",title:"Title"},{dataIndex:"state",key:"state",title:"State"},{dataIndex:"revenueUsd",key:"revenueUsd",title:"Revenue(USD)"},{dataIndex:"commentsCount",key:"commentsCount",title:"Comments"},{dataIndex:"createdAt",key:"createdAt",title:"CreatedAt"},{dataIndex:"actions",key:"actions",render:function(e,t){return o.createElement("span",null,"blocked"===t.state?o.createElement(K.Z,{title:"Are you sure to unblock this article?",onConfirm:function(){return g({variables:{input:{uuid:t.uuid}}})}},o.createElement("a",{className:I?"cursor-not-allowed":"cursor-pointer"},"UnBlock")):o.createElement(K.Z,{title:"Are you sure to block this article?",onConfirm:function(){return v({variables:{input:{uuid:t.uuid}}})}},o.createElement("a",{className:h?"cursor-not-allowed":"cursor-pointer"},"Block")),o.createElement(q.Z,{type:"vertical"}),o.createElement(u.rU,{to:"/articles/"+t.uuid},"Detail"),o.createElement(q.Z,{type:"vertical"}),o.createElement("a",{href:"/articles/"+t.uuid,target:"_blank"},"View"))},title:"Actions"}];return o.createElement(o.Fragment,null,o.createElement("div",{className:"flex justify-between mb-4"},o.createElement("div",{className:"flex space-x-4"},o.createElement(ne.Z,{style:{width:200},value:i,onChange:function(e){return c(e)}},o.createElement(ne.Z.Option,{value:"published"},"Published"),o.createElement(ne.Z.Option,{value:"hidden"},"Hidden"),o.createElement(ne.Z.Option,{value:"blocked"},"Blocked"),o.createElement(ne.Z.Option,{value:"all"},"All")),o.createElement(O.Z,{value:r,placeholder:"Query article",onChange:function(e){return a(e.currentTarget.value)}})),o.createElement(j.Z,{type:"primary",onClick:function(){return p()}},"Refresh")),o.createElement(B.Z,{scroll:{x:!0},columns:C,dataSource:A,rowKey:"uuid",pagination:!1,size:"small"}),o.createElement("div",{style:{margin:"1rem",textAlign:"center"}},o.createElement(j.Z,{type:"link",loading:f,disabled:!k,onClick:function(){y({variables:{after:w,query:r,state:i}})}},k?"Load More":"No More")))}function Pe(){return o.createElement(o.Fragment,null,o.createElement(L.Z,{title:"Articles"}),o.createElement(Ue,null))}function Te(){return o.createElement("div",null,o.createElement(L.Z,{title:"Balance"}),o.createElement(we,null))}n(14564);var Ne=n(48835);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Be(e){var t=e.visible,n=e.onCancel,r=e.editingBonus,a=e.refetchBonuses,l=Fe((0,o.useState)(null),2),i=l[0],c=l[1],u=Fe(S.Z.useForm(),1)[0],s=(0,ae.Z)(i,{wait:500}),m=(0,T.Abh)({notifyOnNetworkStatusChange:!0,variables:{query:s}}),d=m.data,f=m.loading,y=(0,T.Xtc)().data,p=Fe((0,T.yIW)({update:function(e,t){var r=t.data.adminCreateBonus.error;r?U.ZP.error(r):(U.ZP.success("success"),u.resetFields(),a(),n())}}),1)[0],E=Fe((0,T.khX)({update:function(e,t){var r=t.data.adminUpdateBonus.error;r?U.ZP.error(r):(U.ZP.success("success"),u.resetFields(),a(),n())}}),1)[0];(0,o.useEffect)((function(){r?u.setFieldsValue({userId:r.user.id,title:r.title,description:r.description,amount:r.amount,assetId:r.assetId}):u.resetFields()}),[r]);var v=d&&d.adminUserConnection.nodes||[],h=(null==y?void 0:y.pricableCurrencies)||[];return o.createElement(R.Z,{title:r?"Edit":"New",visible:t,onCancel:n,onOk:function(){return u.submit()}},o.createElement(S.Z,{labelCol:{span:6},form:u,onFinish:function(e){r?E({variables:{input:De(De({},e),{},{id:r.id})}}):p({variables:{input:e}})}},o.createElement(S.Z.Item,{name:"userId",label:"User",rules:[{required:!0}]},o.createElement(ne.Z,{showSearch:!0,placeholder:"Search user name/mixinId",filterOption:!1,notFoundContent:f?o.createElement($.Z,{size:"small"}):null,onSearch:function(e){return c(e)}},v.map((function(e){return o.createElement(ne.Z.Option,{key:e.id,value:e.id},o.createElement(Q.Z,null,o.createElement("span",null,e.name),o.createElement("span",null,e.mixinId)))})))),o.createElement(S.Z.Item,{name:"assetId",label:"Asset",rules:[{required:!0}]},o.createElement(ne.Z,{placeholder:"Asset"},h.map((function(e){return o.createElement(ne.Z.Option,{key:e.assetId,value:e.assetId},e.symbol)})))),o.createElement(S.Z.Item,{name:"amount",label:"Amount",rules:[{required:!0}]},o.createElement(Ne.Z,{className:"w-36",min:1e-8,precision:8,step:1e-6,placeholder:"0.0"})),o.createElement(S.Z.Item,{name:"title",label:"Title",rules:[{required:!0}]},o.createElement(O.Z,null)),o.createElement(S.Z.Item,{name:"description",label:"Description"},o.createElement(O.Z.TextArea,null))))}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(){var e=Re((0,o.useState)(!1),2),t=e[0],n=e[1],r=Re((0,o.useState)(null),2),a=r[0],l=r[1],i=(0,T.R3p)(),c=i.data,u=i.loading,s=i.fetchMore,m=i.refetch,d=Re((0,T.XAu)({update:function(e,t){"drafted"!==t.data.adminDeliverBonus.state&&U.ZP.success("Delivered!")}}),1)[0];if(u)return o.createElement(Y,null);var f=c.adminBonusConnection,y=f.nodes,p=f.pageInfo,E=p.hasNextPage,v=p.endCursor,h=[{dataIndex:"id",key:"id",title:"ID"},{dataIndex:"user",key:"user",render:function(e,t){return o.createElement(Q.Z,null,o.createElement(ee.C,{src:t.user.avatar}),o.createElement("span",null,t.user.name))},title:"User"},{dataIndex:"title",key:"title",title:"Title"},{dataIndex:"description",key:"description",render:function(e){return o.createElement("div",null,e||"-")},title:"Description"},{dataIndex:"amount",key:"amount",render:function(e,t){return o.createElement(o.Fragment,null,t.amount," ",t.currency.symbol)},title:"Amount"},{dataIndex:"state",key:"state",title:"state"},{dataIndex:"createdAt",key:"createdAt",title:"createdAt"},{dataIndex:"snapshotId",key:"snapshotId",render:function(e,t){return t.transfer&&t.transfer.snapshotId?o.createElement("a",{href:"https://mixin.one/snapshots/"+t.transfer.snapshotId,target:"_blank"},"SnapshotId"):"-"},title:"snapshotId"},{dataIndex:"actions",key:"actions",render:function(e,t){return o.createElement("span",null,o.createElement(K.Z,{disabled:"drafted"!==t.state,title:"Are you sure to deliver bonus to user?",onConfirm:function(){return d({variables:{input:{id:t.id}}})}},o.createElement(j.Z,{type:"link",disabled:"drafted"!==t.state,size:"small"},"Deliver")),o.createElement(q.Z,{type:"vertical"}),o.createElement(j.Z,{disabled:"drafted"!==t.state,onClick:function(){l(t),n(!0)},type:"link",size:"small"},"Edit"))},title:"Actions"}];return o.createElement("div",null,o.createElement(L.Z,{title:"Bonuses"}),o.createElement("div",{style:{marginBottom:"1rem"}},o.createElement(j.Z,{type:"primary",onClick:function(){l(null),n(!0)}},"New"),o.createElement(Be,{visible:t,editingBonus:a,onCancel:function(){return n(!1)},refetchBonuses:m})),o.createElement(B.Z,{scroll:{x:!0},columns:h,dataSource:y,rowKey:"id",pagination:!1,size:"small"}),o.createElement("div",{style:{margin:"1rem",textAlign:"center"}},o.createElement(j.Z,{type:"link",loading:u,disabled:!E,onClick:function(){s({variables:{after:v}})}},E?"Load More":"No More")))}function qe(){return o.createElement(o.Fragment,null,o.createElement(L.Z,{title:"Comments"}),o.createElement(me,null))}n(42887);var Ke=n(51353),$e=n(30381),Ye=n.n($e);function He(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xe(){var e=He((0,o.useState)(Ye()().startOf("day").subtract(7,"day").format("YYYY-MM-DD")),2),t=e[0],n=e[1],r=He((0,o.useState)(Ye()().endOf("day").subtract(1,"day").format("YYYY-MM-DD")),2),a=r[0],l=r[1],i=(0,T.F2A)({variables:{startDate:t,endDate:a}}),c=i.data,u=i.loading,s=i.fetchMore,m=i.refetch;if(u)return o.createElement(Y,null);var d=c.adminDailyStatisticConnection,f=d.nodes,y=d.pageInfo,p=y.hasNextPage,E=y.endCursor;return o.createElement(o.Fragment,null,o.createElement("div",{className:"flex justify-between mb-4"},o.createElement("div",{className:"flex space-x-4"},o.createElement(Ke.Z.RangePicker,{allowClear:!1,format:"YYYY-MM-DD",value:[Ye()(t),Ye()(a)],onChange:function(e,t){n(t[0]),l(t[1])}})),o.createElement(j.Z,{type:"primary",onClick:function(){return m()}},"Refresh")),o.createElement(B.Z,{scroll:{x:!0},columns:[{dataIndex:"date",key:"date",title:"Date"},{dataIndex:"newUsersCount",key:"newUsersCount",title:"New Users"},{dataIndex:"newPayersCount",key:"newPayersCount",title:"Paid Users"},{dataIndex:"paidUsersCount",key:"paidUsersCount",title:"Paid Users(Accumulated)"},{dataIndex:"newPaymentsCount",key:"newPaymentsCount",title:"New Payments"},{dataIndex:"newArticlesCount",key:"newArticlesCount",title:"New Articles"}],dataSource:f,rowKey:"datetime",pagination:!1,size:"small"}),o.createElement("div",{style:{margin:"1rem",textAlign:"center"}},o.createElement(j.Z,{type:"link",loading:u,disabled:!p,onClick:function(){s({variables:{after:E,startDate:t,endDate:a}})}},p?"Load More":"No More")))}function Ge(){return o.createElement(o.Fragment,null,o.createElement(L.Z,{title:"Daily Statistic"}),o.createElement(Xe,null))}function Je(){var e=(0,T.Cxh)(),t=e.data,n=e.loading,r=e.fetchMore;if(n)return o.createElement(Y,null);var a=t.adminMixinMessageConnection,l=a.nodes,i=a.pageInfo,c=i.hasNextPage,u=i.endCursor,s=[{dataIndex:"action",key:"action",title:"Action"},{dataIndex:"category",key:"category",title:"category"},{dataIndex:"user",key:"user",render:function(e,t){return t.user?o.createElement(Q.Z,null,o.createElement(ee.C,{src:t.user.avatar}),t.user.name,t.user.mixinId):t.userId},title:"User"},{dataIndex:"content",key:"content",render:function(e){return o.createElement("div",{style:{maxWidth:"100%"}},e)},title:"content"},{dataIndex:"processedAt",key:"processedAt",title:"processedAt"},{dataIndex:"createdAt",key:"createdAt",title:"createdAt"}];return o.createElement("div",null,o.createElement(L.Z,{title:"Mixin Messages"}),o.createElement(B.Z,{scroll:{x:!0},columns:s,dataSource:l,rowKey:"id",pagination:!1}),o.createElement("div",{style:{margin:"1rem",textAlign:"center"}},o.createElement(j.Z,{type:"link",loading:n,disabled:!c,onClick:function(){r({variables:{after:u}})}},c?"Load More":"No More")))}function Qe(){return o.createElement(o.Fragment,null,o.createElement(L.Z,{title:"Mixin Network Snapshot"}),o.createElement(ve,null))}function et(){return o.createElement(o.Fragment,null,o.createElement(L.Z,{title:"Orders"}),o.createElement(ge,null))}n(13062);var tt=n(71230),nt=(n(89032),n(15746)),rt=(n(53315),n(89588)),at=n(29009),lt=n(20085),it=n(3023),ct=n(75358),ot=n(14195),ut=n(99307),st=n(90827);function mt(){var e=(0,T.yFU)(),t=e.data;if(e.loading)return o.createElement(Y,null);var n=t.statistics,r=n.usersCount,a=n.articlesCount,l=n.authorRevenueTotal,i=n.readerRevenueTotal;return o.createElement("div",null,o.createElement(L.Z,{title:"Dashboard"}),o.createElement(tt.Z,{style:{padding:20,textAlign:"center"},gutter:16,justify:"space-around"},o.createElement(nt.Z,{span:12},o.createElement(rt.Z,{title:"\u7528\u6237\u603b\u91cf",value:r})),o.createElement(nt.Z,{span:12},o.createElement(rt.Z,{title:"\u6587\u7ae0\u603b\u6570",value:a})),o.createElement(nt.Z,{span:12},o.createElement(rt.Z,{title:"\u4f5c\u8005\u6536\u76ca(USD)",value:l.toFixed(2)})),o.createElement(nt.Z,{span:12},o.createElement(rt.Z,{title:"\u8bfb\u8005\u6536\u76ca(USD)",value:i.toFixed(2)}))),o.createElement(dt,null),o.createElement(ft,null),o.createElement(yt,null))}function dt(){var e=(0,T.uyx)(),t=e.loading,n=e.data;if(t)return o.createElement(Y,null);var r=n.userChart;try{r=JSON.parse(r)}catch(a){r=[]}return o.createElement("div",null,o.createElement("h3",null,"User Increasing Chart"),o.createElement(pt,{data:r}))}function ft(){var e=(0,T.Bob)(),t=e.loading,n=e.data;if(t)return o.createElement(Y,null);var r=n.articleChart;try{r=JSON.parse(r)}catch(a){r=[]}return o.createElement("div",null,o.createElement("h3",null,"Article Increasing Chart"),o.createElement(pt,{data:r}))}function yt(){var e=(0,T.Jfc)(),t=e.loading,n=e.data;if(t)return o.createElement(Y,null);var r=n.revenueChart;try{r=JSON.parse(r)}catch(a){r=[]}return o.createElement("div",null,o.createElement("h3",null,"Revenue Chart"),o.createElement(pt,{data:r}))}function pt(e){return o.createElement(at.h,{height:250},o.createElement(lt.T,{data:e.data,margin:{top:10,right:30,left:0,bottom:0}},o.createElement("defs",null,o.createElement("linearGradient",{id:"colorUser",x1:"0",y1:"0",x2:"0",y2:"1"},o.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),o.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0}))),o.createElement(it.K,{dataKey:"name"}),o.createElement(ct.B,null),o.createElement(ot.q,{strokeDasharray:"3 3"}),o.createElement(ut.u,null),o.createElement(st.u,{type:"monotone",dataKey:"value",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUser)"})))}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ht(e){var t=e.payerMixinUuid,n=Et((0,o.useState)("all"),2),r=n[0],a=n[1],l=(0,T.s1B)({variables:{payerMixinUuid:t,state:r}}),i=l.data,c=l.loading,u=l.fetchMore,s=l.refetch;if(c)return o.createElement(Y,null);var m=i.adminPaymentConnection,d=m.nodes,f=m.pageInfo,y=f.hasNextPage,p=f.endCursor,E=[{dataIndex:"traceId",key:"traceId",title:"Trace ID"},{dataIndex:"payer",key:"payer",render:function(e,t){return t.payer?o.createElement(Q.Z,null,o.createElement(ee.C,{src:t.payer.avatar}),o.createElement("span",null,t.payer.name,"(",t.payer.mixinId,")")):t.opponentId},title:"Payer"},{dataIndex:"amount",key:"amount",render:function(e,t){return o.createElement(Q.Z,null,o.createElement(ee.C,{src:t.currency.iconUrl}),o.createElement("span",null,e))},title:"Amount"},{dataIndex:"state",key:"state",title:"state"},{dataIndex:"decryptedMemo",key:"decryptedMemo",title:"Decrypted Memo"},{dataIndex:"orderType",key:"orderType",render:function(e,t){return o.createElement("span",null,t.order?t.order.orderType:"-")},title:"orderType"},{dataIndex:"createdAt",key:"createdAt",title:"Created At"},{dataIndex:"snapshotId",key:"snapshotId",render:function(e){return o.createElement("a",{href:"https://mixin.one/snapshots/"+e,target:"_blank"},"View")},title:"Snapshot"}];return o.createElement(o.Fragment,null,o.createElement("div",{className:"flex justify-between mb-4"},o.createElement("div",{className:"flex space-x-4"},o.createElement(ne.Z,{className:"w-48",value:r,onChange:function(e){return a(e)}},o.createElement(ne.Z.Option,{value:"all"},"All"),o.createElement(ne.Z.Option,{value:"paid"},"Paid"),o.createElement(ne.Z.Option,{value:"completed"},"Completed"),o.createElement(ne.Z.Option,{value:"refunded"},"Refunded"))),o.createElement(j.Z,{type:"primary",onClick:function(){return s()}},"Refresh")),o.createElement(B.Z,{scroll:{x:!0},columns:E,dataSource:d,rowKey:"traceId",pagination:!1,size:"small"}),o.createElement("div",{style:{margin:"1rem",textAlign:"center"}},o.createElement(j.Z,{type:"link",loading:c,disabled:!y,onClick:function(){u({variables:{after:p}})}},y?"Load More":"No More")))}function bt(){return o.createElement(o.Fragment,null,o.createElement(L.Z,{title:"Payments"}),o.createElement(ht,null))}function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return It(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zt(){var e=gt((0,o.useState)(""),2),t=e[0],n=e[1],r=gt((0,o.useState)("all"),2),a=r[0],l=r[1],i=(0,ae.Z)(t,{wait:500});return o.createElement(o.Fragment,null,o.createElement(L.Z,{title:"Prs Accounts"}),o.createElement("div",{className:"flex mb-4 space-x-4"},o.createElement(ne.Z,{className:"w-72",value:a,onChange:function(e){return l(e)}},o.createElement(ne.Z.Option,{value:"all"},"All"),o.createElement(ne.Z.Option,{value:"created"},"Created"),o.createElement(ne.Z.Option,{value:"registered"},"Registered"),o.createElement(ne.Z.Option,{value:"allowing"},"Allowing"),o.createElement(ne.Z.Option,{value:"allowed"},"Allowed"),o.createElement(ne.Z.Option,{value:"denying"},"Denying"),o.createElement(ne.Z.Option,{value:"denied"},"Denied")),o.createElement(O.Z,{className:"w-72",value:t,placeholder:"account/name/mixinId",onChange:function(e){return n(e.currentTarget.value)}})),o.createElement(At,{query:i,status:a}))}function At(e){var t=e.query,n=e.status,r=(0,T.SMG)({variables:{query:t,status:n}}),a=r.data,l=r.loading,i=r.fetchMore,c=r.refetch;if(l)return o.createElement(Y,null);var u=a.adminPrsAccountConnection,s=u.nodes,m=u.pageInfo,d=m.hasNextPage,f=m.endCursor,y=[{dataIndex:"id",key:"id",title:"ID"},{dataIndex:"account",key:"account",render:function(e){return e||"-"},title:"Account"},{dataIndex:"user",key:"user",render:function(e,t){return o.createElement(Q.Z,null,o.createElement(ee.C,{src:t.user.avatar}),o.createElement("span",null,t.user.name,"(",t.user.mixinId,")"))},title:"User"},{dataIndex:"status",key:"status",title:"Status"},{dataIndex:"createdAt",key:"createdAt",title:"Created At"}];return o.createElement(o.Fragment,null,o.createElement("div",{className:"flex justify-end mb-4"},o.createElement(j.Z,{type:"primary",onClick:function(){return c()}},"Refresh")),o.createElement(B.Z,{scroll:{x:!0},columns:y,dataSource:s,rowKey:"id",pagination:!1,size:"small"}),o.createElement("div",{className:"mb-4 text-center"},o.createElement(j.Z,{type:"link",loading:l,disabled:!d,onClick:function(){i({variables:{status:n,query:t,after:f}})}},d?"Load More":"No More")))}function xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wt(){var e=xt((0,o.useState)("all"),2),t=e[0],n=e[1],r=(0,T.pzo)({variables:{type:t}}),a=r.data,l=r.loading,i=r.fetchMore,c=r.refetch;if(l)return o.createElement(Y,null);var u=a.adminPrsTransactionConnection,s=u.nodes,m=u.pageInfo,d=m.hasNextPage,f=m.endCursor,y=[{dataIndex:"id",key:"id",title:"ID"},{dataIndex:"type",key:"type",title:"type"},{dataIndex:"userAddress",key:"userAddress",render:function(e,t){return t.userAddress||"-"},title:"userAddress"},{dataIndex:"user",key:"user",render:function(e,t){return o.createElement(o.Fragment,null,t.prsAccount?o.createElement("span",null,t.prsAccount.user.name,"(",t.prsAccount.user.mixinId,")"):"-")},title:"User"},{dataIndex:"data",key:"data",title:"data"},{dataIndex:"processedAt",key:"processedAt",title:"Processed At"},{dataIndex:"createdAt",key:"createdAt",title:"Created At"}];return o.createElement(o.Fragment,null,o.createElement("div",{className:"flex justify-between mb-4"},o.createElement("div",{className:"flex space-x-4"},o.createElement(ne.Z,{className:"w-72",value:t,onChange:function(e){return n(e)}},o.createElement(ne.Z.Option,{value:"all"},"All"),o.createElement(ne.Z.Option,{value:"ArticleSnapshotPrsTransaction"},"Article"),o.createElement(ne.Z.Option,{value:"PrsAccountAuthorizationTransaction"},"Authorization"))),o.createElement(j.Z,{type:"primary",onClick:function(){return c()}},"Refresh")),o.createElement(B.Z,{scroll:{x:!0},columns:y,dataSource:s,rowKey:"id",pagination:!1,size:"small"}),o.createElement("div",{className:"mb-4 text-center"},o.createElement(j.Z,{type:"link",loading:l,disabled:!d,onClick:function(){i({variables:{type:t,after:f}})}},d?"Load More":"No More")))}function Ct(){return o.createElement(o.Fragment,null,o.createElement(L.Z,{title:"Prs Transactions"}),o.createElement(wt,null))}function jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return St(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return St(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ot(e){var t=e.payerMixinUuid,n=jt((0,o.useState)("all"),2),r=n[0],a=n[1],l=(0,T.LCA)({variables:{state:r,payerMixinUuid:t}}),i=l.data,c=l.loading,u=l.fetchMore,s=l.refetch;if(c)return o.createElement(Y,null);var m=i.adminSwapOrderConnection,d=m.nodes,f=m.pageInfo,y=f.hasNextPage,p=f.endCursor,E=[{dataIndex:"traceId",key:"traceId",title:"Trace ID"},{dataIndex:"payer",key:"payer",render:function(e,t){return o.createElement(Q.Z,null,o.createElement(ee.C,{src:t.payer.avatar}),o.createElement("span",null,t.payer.name),o.createElement("span",null,"(",t.payer.mixinId,")"))},title:"Payer"},{dataIndex:"state",key:"state",title:"State"},{dataIndex:"funds",key:"funds",render:function(e,t){return o.createElement(Q.Z,null,o.createElement(ee.C,{src:t.payAsset.iconUrl}),o.createElement("span",null,e))},title:"funds"},{dataIndex:"amount",key:"amount",render:function(e,t){return o.createElement(Q.Z,null,o.createElement(ee.C,{src:t.fillAsset.iconUrl}),o.createElement("span",null,e||"-"))},title:"amount"},{dataIndex:"minAmount",key:"minAmount",render:function(e){return e||"-"},title:"minAmount"},{dataIndex:"createdAt",key:"createdAt",title:"createdAt"}];return o.createElement(o.Fragment,null,o.createElement("div",{className:"flex justify-between mb-4"},o.createElement("div",{className:"flex space-x-4"},o.createElement(ne.Z,{className:"w-48",value:r,onChange:function(e){return a(e)}},o.createElement(ne.Z.Option,{value:"all"},"All"),o.createElement(ne.Z.Option,{value:"paid"},"Paid"),o.createElement(ne.Z.Option,{value:"swapping"},"Swapping"),o.createElement(ne.Z.Option,{value:"rejected"},"Rejected"),o.createElement(ne.Z.Option,{value:"swapped"},"Swapped"),o.createElement(ne.Z.Option,{value:"order_placed"},"Order Placed"),o.createElement(ne.Z.Option,{value:"completed"},"Completed"),o.createElement(ne.Z.Option,{value:"refunded"},"Refunded"))),o.createElement(j.Z,{type:"primary",onClick:function(){return s()}},"Refresh")),o.createElement(B.Z,{scroll:{x:!0},dataSource:d,columns:E,rowKey:"traceId",pagination:!1,size:"small"}),o.createElement("div",{style:{margin:"1rem",textAlign:"center"}},o.createElement(j.Z,{type:"link",loading:c,disabled:!y,onClick:function(){u({variables:{after:p}})}},y?"Load More":"No More")))}function Ut(){return o.createElement(o.Fragment,null,o.createElement(L.Z,{title:"Swap Orders"}),o.createElement(Ot,null))}function Pt(){return o.createElement("div",null,o.createElement(L.Z,{title:"Transfers"}),o.createElement(Ae,null))}function Tt(){var e=(0,z.UO)().mixinId,t=(0,T.Prh)({variables:{mixinId:e}}),n=t.loading,r=t.data;if(n)return o.createElement(Y,null);var a=r.adminUser;return o.createElement("div",null,o.createElement(L.Z,{title:"Users"}),o.createElement(te.Z,{bordered:!0,size:"small"},o.createElement(te.Z.Item,{label:"Name"},o.createElement(Q.Z,null,o.createElement(ee.C,{src:a.avatar}),a.name)),o.createElement(te.Z.Item,{label:"MixinId"},a.mixinId),o.createElement(te.Z.Item,{label:"Articles Count"},a.statistics.articlesCount),o.createElement(te.Z.Item,{label:"Author Revenue Amount(USD)"},a.statistics.authorRevenueTotalUsd),o.createElement(te.Z.Item,{label:"Reader Revenue Amount(USD)"},a.statistics.readerRevenueTotalUsd)),o.createElement(J.Z,{defaultActiveKey:"articles"},o.createElement(J.Z.TabPane,{tab:"Articles",key:"articles"},o.createElement(Ue,{authorMixinUuid:a.mixinUuid})),o.createElement(J.Z.TabPane,{tab:"Comments",key:"comments"},o.createElement(me,{authorMixinUuid:a.mixinUuid})),o.createElement(J.Z.TabPane,{tab:"Payments",key:"payments"},o.createElement(ht,{payerMixinUuid:a.mixinUuid})),o.createElement(J.Z.TabPane,{tab:"Swap Orders",key:"swap_orders"},o.createElement(Ot,{payerMixinUuid:a.mixinUuid})),o.createElement(J.Z.TabPane,{tab:"Wallet Balance",key:"wallet_balance"},a.walletId?o.createElement(we,{userId:a.walletId}):o.createElement(G.Z,null)),o.createElement(J.Z.TabPane,{tab:"Wallet Snapshots",key:"wallet_snapshots"},a.walletId?o.createElement(ve,{userId:a.walletId}):o.createElement(G.Z,null))))}function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dt(){var e=Nt((0,o.useState)(""),2),t=e[0],n=e[1],r=Nt((0,o.useState)("default"),2),a=r[0],l=r[1],i=Nt((0,o.useState)("without_banned"),2),c=i[0],u=i[1],s=(0,ae.Z)(t,{wait:500});return o.createElement("div",null,o.createElement(L.Z,{title:"Users"}),o.createElement(tt.Z,{gutter:16,className:"mb-4"},o.createElement(nt.Z,null,o.createElement(ne.Z,{style:{width:200},value:a,onChange:function(e){return l(e)}},o.createElement(ne.Z.Option,{value:"default"},"Default Order"),o.createElement(ne.Z.Option,{value:"orders_total"},"Orders Total DESC"),o.createElement(ne.Z.Option,{value:"revenue_total"},"Revenue Total DESC"),o.createElement(ne.Z.Option,{value:"articles_count"},"Articles Count DESC"),o.createElement(ne.Z.Option,{value:"comments_count"},"Comments Count DESC"))),o.createElement(nt.Z,null,o.createElement(ne.Z,{style:{width:200},value:c,onChange:function(e){return u(e)}},o.createElement(ne.Z.Option,{value:"without_banned"},"Without Banned"),o.createElement(ne.Z.Option,{value:"only_banned"},"Only Banned"),o.createElement(ne.Z.Option,{value:"all"},"All"))),o.createElement(nt.Z,null,o.createElement(O.Z,{value:t,placeholder:"Query user name/mixinId",onChange:function(e){return n(e.currentTarget.value)}}))),o.createElement(_t,{orderBy:a,query:s,filter:c}))}function _t(e){var t=e.query,n=e.orderBy,r=e.filter,a=(0,T.Abh)({variables:{query:t,orderBy:n,filter:r}}),l=a.data,i=a.loading,c=a.fetchMore,s=a.refetch,m=Nt((0,T.L2O)(),1)[0],d=Nt((0,T.CL9)(),1)[0];if(i)return o.createElement(Y,null);var f=l.adminUserConnection,y=f.nodes,p=f.pageInfo,E=p.hasNextPage,v=p.endCursor,h=[{dataIndex:"mixinId",key:"mixinId",render:function(e,t){return o.createElement(re.Z,{title:"mixin UUID",content:t.mixinUuid},e)},title:"Mixin ID"},{dataIndex:"name",key:"name",render:function(e,t){return o.createElement(Q.Z,null,o.createElement(ee.C,{src:t.avatar}),e)},title:"Name"},{dataIndex:"phone",key:"phone",render:function(e,t){return t.phone||"-"},title:"Phone"},{dataIndex:"articlesCount",key:"articlesCount",render:function(e,t){return t.statistics.articlesCount},title:"Articles"},{dataIndex:"commentsCount",key:"commentsCount",render:function(e,t){return t.statistics.commentsCount},title:"Comments"},{dataIndex:"boughtArticlesCount",key:"boughtArticlesCount",render:function(e,t){return t.statistics.boughtArticlesCount},title:"Bought Articles"},{dataIndex:"revenue",key:"revenue",render:function(e,t){return o.createElement(o.Fragment,null,t.statistics.revenueTotalBtc.toFixed(8)+" ($"+t.statistics.revenueTotalUsd.toFixed(2)+")")},title:"Revenue(BTC/USD)"},{dataIndex:"payment",key:"payment",render:function(e,t){return o.createElement(o.Fragment,null,t.statistics.paymentTotalBtc.toFixed(8)+" ($"+t.statistics.paymentTotalUsd.toFixed(2)+")")},title:"Payment(BTC/USD)"},{dataIndex:"bannedAt",key:"bannedAt",render:function(e){return e||"-"},title:"Banned At"},{dataIndex:"createdAt",key:"createdAt",title:"Created At"},{dataIndex:"Actions",key:"actions",render:function(e,t){return o.createElement("span",null,o.createElement(u.rU,{to:"/users/"+t.mixinId},"Detail"),o.createElement(q.Z,{type:"vertical"}),o.createElement("span",null,t.bannedAt?o.createElement(K.Z,{title:"Are you sure to unBan this user?",onConfirm:function(){return d({variables:{input:{id:t.id}}})}},o.createElement(j.Z,{type:"link"},"unBan")):o.createElement(K.Z,{title:"Are you sure to BAN this user?",onConfirm:function(){return m({variables:{input:{id:t.id}}})}},o.createElement(j.Z,{type:"link"},"Ban"))))}}];return o.createElement(o.Fragment,null,o.createElement("div",{className:"flex justify-end mb-4"},o.createElement(j.Z,{type:"primary",onClick:function(){return s()}},"Refresh")),o.createElement(B.Z,{scroll:{x:!0},columns:h,dataSource:y,rowKey:"mixinId",pagination:!1,size:"small"}),o.createElement("div",{style:{margin:"1rem",textAlign:"center"}},o.createElement(j.Z,{type:"link",loading:i,disabled:!E,onClick:function(){c({variables:{filter:r,query:t,orderBy:n,after:v}})}},E?"Load More":"No More")))}function Ft(){return o.createElement(z.rs,null,o.createElement(z.AW,{path:"/",exact:!0},o.createElement(mt,null)),o.createElement(z.AW,{path:"/daily_statistic",exact:!0},o.createElement(Ge,null)),o.createElement(z.AW,{path:"/users",exact:!0},o.createElement(Dt,null)),o.createElement(z.AW,{path:"/users/:mixinId",exact:!0},o.createElement(Tt,null)),o.createElement(z.AW,{path:"/articles",exact:!0},o.createElement(Pe,null)),o.createElement(z.AW,{path:"/article_snapshots",exact:!0},o.createElement(je,null)),o.createElement(z.AW,{path:"/articles/:uuid",exact:!0},o.createElement(Ce,null)),o.createElement(z.AW,{path:"/comments",exact:!0},o.createElement(qe,null)),o.createElement(z.AW,{path:"/orders",exact:!0},o.createElement(et,null)),o.createElement(z.AW,{path:"/payments",exact:!0},o.createElement(bt,null)),o.createElement(z.AW,{path:"/swap_orders",exact:!0},o.createElement(Ut,null)),o.createElement(z.AW,{path:"/transfers",exact:!0},o.createElement(Pt,null)),o.createElement(z.AW,{path:"/mixin_messages",exact:!0},o.createElement(Je,null)),o.createElement(z.AW,{path:"/mixin_network_snapshots",exact:!0},o.createElement(Qe,null)),o.createElement(z.AW,{path:"/announcements",exact:!0},o.createElement(X,null)),o.createElement(z.AW,{path:"/prs_accounts",exact:!0},o.createElement(Zt,null)),o.createElement(z.AW,{path:"/prs_transactions",exact:!0},o.createElement(Ct,null)),o.createElement(z.AW,{path:"/bonuses",exact:!0},o.createElement(Le,null)),o.createElement(z.AW,{path:"/balance",exact:!0},o.createElement(Te,null)),o.createElement(z.AW,null,o.createElement(F.ZP,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:o.createElement(u.rU,{to:"/"},o.createElement(j.Z,{type:"primary"},"Back Home"))})))}a().register({AdminApp:function(e){var t=e.csrfToken,n=e.currentAdmin,r=e.prsdigg;return o.createElement(i.e,{client:(0,c.l8)("/graphql",t)},n?o.createElement(fe.Provider,{value:r},o.createElement(de.Provider,{value:n},o.createElement(u.VK,{basename:"/admin"},o.createElement(l.Z,{style:{minHeight:"100vh"}},o.createElement(l.Z.Sider,{collapsible:!0},o.createElement(C,null)),o.createElement(l.Z.Content,{style:{padding:"0 1rem",background:"#fff"}},o.createElement(Ft,null)))))):o.createElement(_,null))}})},46700:function(e,t,n){var r={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":15596,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":15596,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function a(e){var t=l(e);return n(t)}function l(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=l,e.exports=a,a.id=46700}},function(e){e.O(0,[2161,2235,1762,1404,3101,477,8892,5077,4871,3013,4512,2737,1786,1472,3222,1395,2909],(function(){return t=42423,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=admin-c2409d59207554bad393.js.map