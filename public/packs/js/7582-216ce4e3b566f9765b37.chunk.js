"use strict";(self.webpackChunkprsdigg=self.webpackChunkprsdigg||[]).push([[7582],{93764:function(e,t,a){a.d(t,{Z:function(){return h}});var n=a(96156),r=a(22122),c=a(67294),l=a(94184),o=a.n(l),i=a(10366),s=a(65632),m=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},u=function(e){var t=e.prefixCls,a=e.className,l=e.hoverable,i=void 0===l||l,u=m(e,["prefixCls","className","hoverable"]);return c.createElement(s.C,null,(function(e){var l=(0,e.getPrefixCls)("card",t),s=o()("".concat(l,"-grid"),a,(0,n.Z)({},"".concat(l,"-grid-hoverable"),i));return c.createElement("div",(0,r.Z)({},u,{className:s}))}))},d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},f=function(e){return c.createElement(s.C,null,(function(t){var a=t.getPrefixCls,n=e.prefixCls,l=e.className,i=e.avatar,s=e.title,m=e.description,u=d(e,["prefixCls","className","avatar","title","description"]),f=a("card",n),p=o()("".concat(f,"-meta"),l),b=i?c.createElement("div",{className:"".concat(f,"-meta-avatar")},i):null,v=s?c.createElement("div",{className:"".concat(f,"-meta-title")},s):null,y=m?c.createElement("div",{className:"".concat(f,"-meta-description")},m):null,E=v||y?c.createElement("div",{className:"".concat(f,"-meta-detail")},v,y):null;return c.createElement("div",(0,r.Z)({},u,{className:p}),b,E)}))},p=a(7495),b=a(71230),v=a(15746),y=a(97647),E=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};var g=function(e){var t,a,l,m=c.useContext(s.E_),d=m.getPrefixCls,f=m.direction,g=c.useContext(y.Z),h=e.prefixCls,Z=e.className,O=e.extra,N=e.headStyle,x=void 0===N?{}:N,C=e.bodyStyle,P=void 0===C?{}:C,w=e.title,j=e.loading,k=e.bordered,S=void 0===k||k,T=e.size,_=e.type,A=e.cover,I=e.actions,M=e.tabList,K=e.children,z=e.activeTabKey,R=e.defaultActiveTabKey,$=e.tabBarExtraContent,D=e.hoverable,L=e.tabProps,B=void 0===L?{}:L,U=E(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),H=d("card",h),q=0===P.padding||"0px"===P.padding?{padding:24}:void 0,F=c.createElement("div",{className:"".concat(H,"-loading-block")}),G=c.createElement("div",{className:"".concat(H,"-loading-content"),style:q},c.createElement(b.Z,{gutter:8},c.createElement(v.Z,{span:22},F)),c.createElement(b.Z,{gutter:8},c.createElement(v.Z,{span:8},F),c.createElement(v.Z,{span:15},F)),c.createElement(b.Z,{gutter:8},c.createElement(v.Z,{span:6},F),c.createElement(v.Z,{span:18},F)),c.createElement(b.Z,{gutter:8},c.createElement(v.Z,{span:13},F),c.createElement(v.Z,{span:9},F)),c.createElement(b.Z,{gutter:8},c.createElement(v.Z,{span:4},F),c.createElement(v.Z,{span:3},F),c.createElement(v.Z,{span:16},F))),J=void 0!==z,V=(0,r.Z)((0,r.Z)({},B),(t={},(0,n.Z)(t,J?"activeKey":"defaultActiveKey",J?z:R),(0,n.Z)(t,"tabBarExtraContent",$),t)),W=M&&M.length?c.createElement(p.Z,(0,r.Z)({size:"large"},V,{className:"".concat(H,"-head-tabs"),onChange:function(t){var a;null===(a=e.onTabChange)||void 0===a||a.call(e,t)}}),M.map((function(e){return c.createElement(p.Z.TabPane,{tab:e.tab,disabled:e.disabled,key:e.key})}))):null;(w||O||W)&&(l=c.createElement("div",{className:"".concat(H,"-head"),style:x},c.createElement("div",{className:"".concat(H,"-head-wrapper")},w&&c.createElement("div",{className:"".concat(H,"-head-title")},w),O&&c.createElement("div",{className:"".concat(H,"-extra")},O)),W));var Q,X=A?c.createElement("div",{className:"".concat(H,"-cover")},A):null,Y=c.createElement("div",{className:"".concat(H,"-body"),style:P},j?G:K),ee=I&&I.length?c.createElement("ul",{className:"".concat(H,"-actions")},function(e){return e.map((function(t,a){return c.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(a)},c.createElement("span",null,t))}))}(I)):null,te=(0,i.Z)(U,["onTabChange"]),ae=T||g,ne=o()(H,(a={},(0,n.Z)(a,"".concat(H,"-loading"),j),(0,n.Z)(a,"".concat(H,"-bordered"),S),(0,n.Z)(a,"".concat(H,"-hoverable"),D),(0,n.Z)(a,"".concat(H,"-contain-grid"),(c.Children.forEach(e.children,(function(e){e&&e.type&&e.type===u&&(Q=!0)})),Q)),(0,n.Z)(a,"".concat(H,"-contain-tabs"),M&&M.length),(0,n.Z)(a,"".concat(H,"-").concat(ae),ae),(0,n.Z)(a,"".concat(H,"-type-").concat(_),!!_),(0,n.Z)(a,"".concat(H,"-rtl"),"rtl"===f),a),Z);return c.createElement("div",(0,r.Z)({},te,{className:ne}),l,X,Y,ee)};g.Grid=u,g.Meta=f;var h=g},34313:function(e,t,a){a(39992),a(19793),a(13062),a(89032)},31990:function(e,t,a){var n=a(22122),r=a(96156),c=a(67294),l=a(94184),o=a.n(l),i=a(65632),s=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};t.Z=function(e){var t=e.actions,a=e.author,l=e.avatar,m=e.children,u=e.className,d=e.content,f=e.prefixCls,p=e.datetime,b=s(e,["actions","author","avatar","children","className","content","prefixCls","datetime"]),v=c.useContext(i.E_),y=v.getPrefixCls,E=v.direction,g=y("comment",f),h=l?c.createElement("div",{className:"".concat(g,"-avatar")},"string"===typeof l?c.createElement("img",{src:l,alt:"comment-avatar"}):l):null,Z=t&&t.length?c.createElement("ul",{className:"".concat(g,"-actions")},t.map((function(e,t){return c.createElement("li",{key:"action-".concat(t)},e)}))):null,O=(a||p)&&c.createElement("div",{className:"".concat(g,"-content-author")},a&&c.createElement("span",{className:"".concat(g,"-content-author-name")},a),p&&c.createElement("span",{className:"".concat(g,"-content-author-time")},p)),N=c.createElement("div",{className:"".concat(g,"-content")},O,c.createElement("div",{className:"".concat(g,"-content-detail")},d),Z),x=o()(g,(0,r.Z)({},"".concat(g,"-rtl"),"rtl"===E),u);return c.createElement("div",(0,n.Z)({},b,{className:x}),c.createElement("div",{className:"".concat(g,"-inner")},h,N),m?function(e,t){return c.createElement("div",{className:o()("".concat(e,"-nested"))},t)}(g,m):null)}},41289:function(e,t,a){a(39992)},67582:function(e,t,a){a.r(t),a.d(t,{default:function(){return A}});a(61768);var n=a(8834),r=(a(19793),a(7495)),c=a(6799),l=a(67294),o=a(8134),i=a(5977),s=(a(51350),a(38272)),m=a(23684),u=a(96019),d=a(67776),f=a(39387);function p(e){var t=e.filter,a=e.timeRange,n=(0,f.i5n)({notifyOnNetworkStatusChange:!0,variables:{filter:t,timeRange:a}}),r=n.data,c=n.loading,o=n.fetchMore;if(!r&&c)return l.createElement(u.Z,null);var i=r.articleConnection,p=i.nodes,b=i.pageInfo,v=b.hasNextPage,y=b.endCursor;return l.createElement(s.ZP,{size:"large",itemLayout:"vertical",dataSource:p,loadMore:l.createElement(d.Z,{hasNextPage:v,loading:c,fetchMore:function(){o({variables:{after:y,filter:t}})}}),renderItem:function(e){return l.createElement(m.Z,{article:e})}})}a(41289);var b=a(31990),v=(a(75257),a(51890)),y=a(30381),E=a.n(y),g=a(73727);function h(){var e=(0,o.$)(),t=e.t,a=e.i18n,n=(0,c.FS)().isMobile;E().locale(a.language);var r=(0,f.$n$)(),i=r.data,m=r.loading,p=r.fetchMore;if(m)return l.createElement(u.Z,null);var y=i.commentConnection,h=y.nodes,Z=y.pageInfo,O=Z.hasNextPage,N=Z.endCursor;return l.createElement(s.ZP,{dataSource:h,loadMore:l.createElement(d.Z,{hasNextPage:O,loading:m,fetchMore:function(){p({variables:{after:N}})}}),renderItem:function(e){return l.createElement("li",{id:"comment-"+e.id,className:n.phone?"blockquote-collapsed":""},!e.deletedAt&&l.createElement(b.Z,{className:"comment-list",author:e.author.name,avatar:l.createElement(v.C,{src:e.author.avatar},e.author.name[0]),content:l.createElement(c.nV,{source:e.content}),datetime:l.createElement("span",null,E()(e.createdAt).fromNow()),actions:[l.createElement("span",null,t("from"),": "," ",l.createElement(g.rU,{style:{color:"inherit"},to:"/articles/"+e.commentable.uuid},e.commentable.title))]}))}})}a(67167);var Z=a(71577),O=(a(13062),a(71230)),N=(a(89032),a(15746)),x=(a(34313),a(93764)),C=(a(78322),a(3887)),P=(a(3829),a(60331));function w(){var e=(0,f.zC5)(),t=e.loading,a=e.data,n=e.fetchMore,r=(0,o.$)().t,c=(0,i.k6)();if(t)return l.createElement(u.Z,null);var s=a.tagConnection,m=s.nodes,d=s.pageInfo,p=d.hasNextPage,b=d.endCursor;return l.createElement("div",null,l.createElement(O.Z,{wrap:!0,gutter:[8,8]},m.map((function(e){return l.createElement(N.Z,{key:e.id,xs:24,sm:12,md:12,lg:8},l.createElement(x.Z,{size:"small",hoverable:!0,onClick:function(){return c.push("/articles?tag="+e.name)},style:{borderTop:"3px solid "+e.color,borderTopLeftRadius:10,borderTopRightRadius:10,margin:"0 0.5rem 1rem"}},l.createElement("div",null,l.createElement(P.Z,{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},color:e.color},"#",e.name)),l.createElement("div",null,l.createElement(C.Z.Text,{type:"secondary"},r("tag.articles_count")," ",e.articlesCount))))}))),p&&l.createElement("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"}},l.createElement(Z.Z,{loading:t,onClick:function(){n({variables:{after:b}})}},r("load_more"))))}function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){S(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,c=[],l=!0,o=!1;try{for(a=a.call(e);!(l=(n=a.next()).done)&&(c.push(n.value),!t||c.length!==t);l=!0);}catch(i){o=!0,r=i}finally{try{l||null==a.return||a.return()}finally{if(o)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function A(){var e,t=(0,o.$)().t,a=(0,c.xJ)().currentUser,s=(0,i.k6)(),m=(0,i.TH)(),u=T((0,l.useState)("month"),2),d=u[0],f=u[1],b=T((0,l.useState)((null==(e=m.state)?void 0:e.activeTabKey)||"default"),2),v=b[0],y=b[1];return l.createElement(r.Z,{defaultActiveKey:v,onChange:function(e){y(e),s.replace(k(k({},s.location),{},{state:{activeTabKey:e}}))}},l.createElement(r.Z.TabPane,{tab:t("order_by_popularity"),key:"popularity"},l.createElement(p,{filter:"default"})),a&&l.createElement(r.Z.TabPane,{tab:t("subscribed"),key:"subscribed"},l.createElement(p,{filter:"subscribed"})),l.createElement(r.Z.TabPane,{tab:t("order_by_lately"),key:"lately"},l.createElement(p,{filter:"lately"})),l.createElement(r.Z.TabPane,{tab:t("order_by_revenue"),key:"revenue"},l.createElement("div",{className:"flex justify-end"},l.createElement(n.Z,{className:"w-28",value:d,onChange:function(e){return f(e)}},l.createElement(n.Z.Option,{value:"week"},t("in_a_week")),l.createElement(n.Z.Option,{value:"month"},t("in_a_month")),l.createElement(n.Z.Option,{value:"year"},t("in_a_year")),l.createElement(n.Z.Option,{value:"all"},t("all")))),l.createElement(p,{filter:"revenue",timeRange:d})),l.createElement(r.Z.TabPane,{tab:t("tags"),key:"tags"},l.createElement(w,null)),l.createElement(r.Z.TabPane,{tab:t("comments_zone"),key:"comments"},l.createElement(h,null)))}}}]);
//# sourceMappingURL=7582-216ce4e3b566f9765b37.chunk.js.map