"use strict";(self.webpackChunkprsdigg=self.webpackChunkprsdigg||[]).push([[1163],{44905:function(e,t,n){n.d(t,{Z:function(){return o}});n(51350);var r=n(38272),l=(n(67167),n(71577)),a=n(6799),c=n(67294),i=n(8134);function o(e){var t=(0,a.FS)().isMobile,n=(0,i.$)().t,o=e.dataSource,u=e.hasNextPage,m=e.loading,s=e.fetchMore,d=e.renderItem;return c.createElement(r.ZP,{size:"small",dataSource:o,itemLayout:t.phone?"vertical":"horizontal",loadMore:u&&c.createElement("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"}},c.createElement(l.Z,{loading:m,onClick:s},n("load_more"))),renderItem:d})}},31163:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});n(19793);var r=n(7495),l=(n(13816),n(37744)),a=n(67294),c=n(8134),i=n(5977),o=(n(51350),n(38272)),u=(n(25664),n(55241)),m=(n(945),n(3785)),s=(n(39200),n(55019)),d=(n(28610),n(75443)),f=(n(20540),n(76772)),b=(n(67167),n(71577)),g=(n(78322),n(3887)),E=(n(58481),n(48086)),h=n(1870),p=n(62536),Z=n(57119),y=n(44905),v=n(67823),k=n(20640),_=n.n(k),C=n(39387);function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,l,a=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);c=!0);}catch(o){i=!0,l=o}finally{try{c||null==n.return||n.return()}finally{if(i)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(){var e=(0,c.$)().t,t=W((0,a.useState)(null),2),n=t[0],r=t[1],l=W((0,a.useState)(!1),2),i=l[0],k=l[1],P=W((0,a.useState)(""),2),w=P[0],x=P[1],S=(0,C.G2V)(),O=S.loading,A=S.data,j=S.refetch,B=S.fetchMore,M=W((0,C.Emg)({update:function(e,t){var n=t.data.createAccessToken;x(""),k(!1),r(n),j()}}),1)[0],I=W((0,C.W7e)({update:function(t,n){var r=n.data.deleteAccessToken;j(),r&&E.ZP.success(e("success_deleted"))}}),1)[0];if(O)return a.createElement(v.Z,null);var T=A.myAccessTokenConnection,N=T.nodes,R=T.pageInfo,z=R.hasNextPage,$=R.endCursor;return a.createElement(a.Fragment,null,n&&a.createElement("div",{className:"mb-4"},a.createElement(f.Z,{type:"success",showIcon:!0,closable:!0,message:e("token_generated_tips"),description:a.createElement(a.Fragment,null,a.createElement(g.Z.Text,{className:"block mb-2",type:"danger"},e("token_security_tips")),a.createElement("div",{className:"flex"},a.createElement(g.Z.Text,{code:!0},n.value),a.createElement(b.Z,{className:"ml-2",size:"small",onClick:function(){_()(n.value),E.ZP.success(e("success_copied"))}},e("copy"))))})),a.createElement("div",{className:"mb-4"},a.createElement(d.Z,{title:e("confirm_to_generate_token"),onConfirm:function(){return k(!0)}},a.createElement(b.Z,{type:"primary"},e("generate_new_token"))),a.createElement("a",{className:"ml-2",href:"https://github.com/baizhiheizi/prsdigg#api",target:"_blank"},a.createElement(h.Z,null)),a.createElement(m.Z,{title:e("generate_new_token"),visible:i,onCancel:function(){return k(!1)},onOk:function(){return M({variables:{input:{memo:w}}})},okButtonProps:{disabled:!Boolean(w)}},a.createElement(s.Z,{value:w,placeholder:e("token_memo_placeholader"),onChange:function(e){return x(e.currentTarget.value)}}))),a.createElement(y.Z,{loading:O,hasNextPage:z,fetchMore:function(){return B({variables:{after:$}})},dataSource:N,renderItem:function(t){return a.createElement(o.ZP.Item,{key:t.id,actions:[a.createElement(d.Z,{title:e("confirm_to_delete_token"),onConfirm:function(){return I({variables:{input:{id:t.id}}})}},a.createElement(b.Z,{size:"small"},e("delete")))]},a.createElement("div",{className:"flex-1 line-clamp-1"},t.memo),a.createElement("div",{className:"flex-1 "},a.createElement(g.Z.Text,{code:!0},t.desensitizedValue)),t.lastRequestAt?a.createElement(u.Z,{title:"Last Request",content:a.createElement(a.Fragment,null,a.createElement("p",null,"IP: ",t.lastRequestIp),a.createElement("p",null,"Time: ",t.lastRequestAt))},a.createElement(p.Z,{twoToneColor:"#52c41a"})):a.createElement(u.Z,{title:"Last Request",content:"Never requested"},a.createElement(Z.Z,null)))}}))}n(24228);var x=n(27049),S=(n(13062),n(71230)),O=(n(89032),n(15746)),A=(n(51872),n(19650)),j=(n(27883),n(12028));function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,l,a=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);c=!0);}catch(o){i=!0,l=o}finally{try{c||null==n.return||n.return()}finally{if(i)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=g.Z.Paragraph;function T(){var e=(0,c.$)().t,t=(0,C.GVy)(),n=t.loading,r=t.data,l=B((0,C.hyz)({update:function(){E.ZP.success(e("success_updated"))}}),2),i=l[0],o=l[1].loading;if(n)return a.createElement(v.Z,null);var u=r.myNotificationSetting;return a.createElement("div",null,a.createElement(g.Z,null,a.createElement(I,null,a.createElement(f.Z,{message:e("tips_of_general_notifications")}))),a.createElement("br",null),a.createElement(g.Z,null,a.createElement(I,null,e("tips_of_article_published_notifications"))),a.createElement(S.Z,{gutter:16},a.createElement(O.Z,null,a.createElement(A.Z,null,a.createElement(j.Z,{loading:o,checked:u.articlePublishedWeb,onChange:function(e){return i({variables:{input:{articlePublishedWeb:e}}})}}),"Web")),a.createElement(O.Z,null,a.createElement(A.Z,null,a.createElement(j.Z,{loading:o,checked:u.articlePublishedMixinBot,onChange:function(e){return i({variables:{input:{articlePublishedMixinBot:e}}})}}),e("mixin_bot"))),a.createElement(O.Z,null,a.createElement(A.Z,null,a.createElement(j.Z,{disabled:!0,loading:o,checked:u.articlePublishedWebhook,onChange:function(e){return i({variables:{input:{articlePublishedWebhook:e}}})}}),"Webhook"))),a.createElement(x.Z,null),a.createElement(g.Z,null,a.createElement(I,null,e("tips_of_article_bought_notifications"))),a.createElement(S.Z,{gutter:16},a.createElement(O.Z,null,a.createElement(A.Z,null,a.createElement(j.Z,{loading:o,checked:u.articleBoughtWeb,onChange:function(e){return i({variables:{input:{articleBoughtWeb:e}}})}}),"Web")),a.createElement(O.Z,null,a.createElement(A.Z,null,a.createElement(j.Z,{loading:o,checked:u.articleBoughtMixinBot,onChange:function(e){return i({variables:{input:{articleBoughtMixinBot:e}}})}}),e("mixin_bot"))),a.createElement(O.Z,null,a.createElement(A.Z,null,a.createElement(j.Z,{disabled:!0,loading:o,checked:u.articleBoughtWebhook,onChange:function(e){return i({variables:{input:{articleBoughtWebhook:e}}})}}),"Webhook"))),a.createElement(x.Z,null),a.createElement(g.Z,null,a.createElement(I,null,e("tips_of_article_rewarded_notifications"))),a.createElement(S.Z,{gutter:16},a.createElement(O.Z,null,a.createElement(A.Z,null,a.createElement(j.Z,{loading:o,checked:u.articleRewardedWeb,onChange:function(e){return i({variables:{input:{articleRewardedWeb:e}}})}}),"Web")),a.createElement(O.Z,null,a.createElement(A.Z,null,a.createElement(j.Z,{loading:o,checked:u.articleRewardedMixinBot,onChange:function(e){return i({variables:{input:{articleRewardedMixinBot:e}}})}}),e("mixin_bot"))),a.createElement(O.Z,null,a.createElement(A.Z,null,a.createElement(j.Z,{disabled:!0,loading:o,checked:u.articleRewardedWebhook,onChange:function(e){return i({variables:{input:{articleRewardedWebhook:e}}})}}),"Webhook"))),a.createElement(x.Z,null),a.createElement(g.Z,null,a.createElement(I,null,e("tips_of_tagging_created_notifications"))),a.createElement(S.Z,{gutter:16},a.createElement(O.Z,null,a.createElement(A.Z,null,a.createElement(j.Z,{loading:o,checked:u.taggingCreatedWeb,onChange:function(e){return i({variables:{input:{taggingCreatedWeb:e}}})}}),"Web")),a.createElement(O.Z,null,a.createElement(A.Z,null,a.createElement(j.Z,{loading:o,checked:u.taggingCreatedMixinBot,onChange:function(e){return i({variables:{input:{taggingCreatedMixinBot:e}}})}}),e("mixin_bot"))),a.createElement(O.Z,null,a.createElement(A.Z,null,a.createElement(j.Z,{disabled:!0,loading:o,checked:u.taggingCreatedWebhook,onChange:function(e){return i({variables:{input:{taggingCreatedWebhook:e}}})}}),"Webhook"))),a.createElement(x.Z,null),a.createElement(g.Z,null,a.createElement(I,null,e("tips_of_comment_created_notifications"))),a.createElement(S.Z,{gutter:16},a.createElement(O.Z,null,a.createElement(A.Z,null,a.createElement(j.Z,{loading:o,checked:u.commentCreatedWeb,onChange:function(e){return i({variables:{input:{commentCreatedWeb:e}}})}}),"Web")),a.createElement(O.Z,null,a.createElement(A.Z,null,a.createElement(j.Z,{loading:o,checked:u.commentCreatedMixinBot,onChange:function(e){return i({variables:{input:{commentCreatedMixinBot:e}}})}}),e("mixin_bot"))),a.createElement(O.Z,null,a.createElement(A.Z,null,a.createElement(j.Z,{disabled:!0,loading:o,checked:u.commentCreatedWebhook,onChange:function(e){return i({variables:{input:{commentCreatedWebhook:e}}})}}),"Webhook"))),a.createElement(x.Z,null),a.createElement(g.Z,null,a.createElement(I,null,e("tips_of_transfer_processed_notifications"))),a.createElement(S.Z,{gutter:16},a.createElement(O.Z,null,a.createElement(A.Z,null,a.createElement(j.Z,{loading:o,checked:u.transferProcessedWeb,onChange:function(e){return i({variables:{input:{transferProcessedWeb:e}}})}}),"Web")),a.createElement(O.Z,null,a.createElement(A.Z,null,a.createElement(j.Z,{loading:o,checked:u.transferProcessedMixinBot,onChange:function(e){return i({variables:{input:{transferProcessedMixinBot:e}}})}}),e("mixin_bot"))),a.createElement(O.Z,null,a.createElement(A.Z,null,a.createElement(j.Z,{disabled:!0,loading:o,checked:u.transferProcessedWebhook,onChange:function(e){return i({variables:{input:{transferProcessedWebhook:e}}})}}),"Webhook"))),a.createElement(x.Z,null))}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,l,a=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);c=!0);}catch(o){i=!0,l=o}finally{try{c||null==n.return||n.return()}finally{if(i)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(){var e,t=(0,i.TH)(),n=(0,i.k6)(),o=(0,c.$)().t,u=$((0,a.useState)((null==(e=t.state)?void 0:e.activeKey)||"notification"),2),m=u[0],s=u[1];return a.createElement(a.Fragment,null,a.createElement(l.Z,{title:o("settings")}),a.createElement(r.Z,{activeKey:m,onChange:function(e){s(e),n.replace(R(R({},t),{},{state:R(R({},t.state),{},{activeKey:e})}))}},a.createElement(r.Z.TabPane,{key:"notification",tab:o("notification")},a.createElement(T,null)),a.createElement(r.Z.TabPane,{key:"accessToken",tab:o("access_token")},a.createElement(w,null))))}}}]);
//# sourceMappingURL=1163-2ae2c5b64650b6a92e25.chunk.js.map